Handler Looper Message
=========================

<pre>
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="361px" version="1.1" content="&lt;mxfile userAgent=&quot;Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/67.0.3396.99 Safari/537.36&quot; version=&quot;8.9.7&quot; editor=&quot;www.draw.io&quot;&gt;&lt;diagram id=&quot;8e8b9b0a-ddfc-dc8f-0562-1dd70b11f372&quot; name=&quot;Page-1&quot;&gt;7ZlNc5swEIZ/DdcMQobYx8RJ2kv6MT70rMAa1MiIESIm/fUVRrIBiSYztXGT1AcPvEgr9OxKq7U9vNzUnwQpsnueAPMCP6k9fOMFQRTO1XcjPLfCHKNWSAVNWqkjrOgv0KKv1YomUPYaSs6ZpEVfjHmeQyx7GhGCb/vN1pz1Ry1ICpawigmz1R80kZmeRXB50D8DTTMzMooW7ZMHEj+mgle5Hs8L8Hr3aR9viLGlJ1pmJOHbjoRvPbwUnMv2alMvgTVoDba2393I0/17C8jlazpEbYcnwiowb7x7L/lsWOxmA01738PX24xKWBUkbp5ulfOVlskNU3dIXWpzICTUo6+E9hNV8QN8A1I8qyamA9ZsdOygub7fHjyBQq1lHS9gX4tEez/d2z4QUBcaghvIzAJyD2XZhMs4FzQNl1nY4xJgB5fAwSU6ApbLMSzfK6hsNmqWsg+glII/wpIzLpSS81y1vF5TxgYSYTTN1S2DdWOhIUbVurzS8oYmSTOIk3c/Uk+AHC1s5DMH8eAIxOdvJhAxml2E04Xi4s2AmfkTrlCTOv+0latsUzSXawb1VZMm1bwhT/TlTcxIWdK4z6W7Rg/ZzPCCxEqkL9Lq0HBt40YTwIikT33zLkJ6hG+cqoH3zgj7WWRm4sZYKHklYtCduhlyYMdyarAw0W5MSSJSkJapncf2836dE9F/J3bh44EXrZXyWi+qI2nfUHhKLwaWF1fKQ2Pb1N8ny1h5C8TZ0+VssOQc29+psiXCFnLlzHdPHA/Oyq4z4cmQ20dlZJFWXVTNNsaj4wBSFm0ht6Z1Q8gmPdjDfD+KfH/UdTyXncZ3u89xmEfDxGIjx87q5AjIQwu5nR/eIXKMhrv3hMwdJTK++wjUre18OuZ2uQk1xJWEHXQoTrCj/xMF53yA3FFWuU5bR9nO7YJz6jjHOIrOH+eOn5tOFud2Lfv14WeDLfC/8IsPEuXzCaPc2DjboeVMMT4sh9HldFEe2EXttKeWczHHL/9geyTm6vbwn0FbsR7+l8G3vwE=&lt;/diagram&gt;&lt;/mxfile&gt;" onclick="(function(svg){var src=window.event.target||window.event.srcElement;while (src!=null&amp;&amp;src.nodeName.toLowerCase()!='a'){src=src.parentNode;}if(src==null){if(svg.wnd!=null&amp;&amp;!svg.wnd.closed){svg.wnd.focus();}else{var r=function(evt){if(evt.data=='ready'&amp;&amp;evt.source==svg.wnd){svg.wnd.postMessage(decodeURIComponent(svg.getAttribute('content')),'*');window.removeEventListener('message',r);}};window.addEventListener('message',r);svg.wnd=window.open('https://www.draw.io/?client=1&amp;lightbox=1&amp;edit=_blank');}}})(this);" viewBox="0 0 361 441" style="cursor:pointer;max-width:100%;max-height:441px;"><defs/><g transform="translate(0.5,0.5)"><rect x="108" y="140" width="150" height="300" fill="#ffffff" stroke="#000000" pointer-events="none"/><rect x="123" y="190" width="120" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(158.5,213.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="48" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 50px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Message</div></div></foreignObject><text x="24" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Message</text></switch></g><g transform="translate(124.5,153.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="85" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 86px; white-space: nowrap; word-wrap: normal;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">MessageQueue</div></div></foreignObject><text x="43" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">MessageQueue</text></switch></g><rect x="123" y="274.5" width="120" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(158.5,298.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="48" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 50px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Message</div></div></foreignObject><text x="24" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Message</text></switch></g><rect x="123" y="360" width="120" height="60" rx="9" ry="9" fill="#ffffff" stroke="#000000" pointer-events="none"/><g transform="translate(158.5,383.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="48" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 50px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Message</div></div></foreignObject><text x="24" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Message</text></switch></g><path d="M 28.47 394 L 28.53 384 L 103.53 384.4 L 103.58 373.9 L 122.5 389.5 L 103.42 404.9 L 103.47 394.4 Z" fill="#ffffff" stroke="#000000" stroke-linejoin="round" stroke-miterlimit="10" pointer-events="none"/><path d="M 327.53 215 L 327.47 225 L 262.47 224.61 L 262.41 235.11 L 243.5 219.5 L 262.59 204.11 L 262.53 214.61 Z" fill="#ffffff" stroke="#000000" stroke-linejoin="round" stroke-miterlimit="10" pointer-events="none"/><g transform="translate(-0.5,363.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="76" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 78px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">SendMessage</div></div></foreignObject><text x="38" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">SendMessage</text></switch></g><g transform="translate(294.5,193.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="66" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 66px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">getMessage</div></div></foreignObject><text x="33" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">getMessage</text></switch></g><ellipse cx="53" cy="395" rx="15" ry="15" fill="#006600" stroke="none" pointer-events="none"/><g transform="translate(49.5,388.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="6" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 8px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">1</div></div></foreignObject><text x="3" y="12" fill="#FFFFFF" text-anchor="middle" font-size="12px" font-family="Helvetica">1</text></switch></g><ellipse cx="308" cy="225" rx="15" ry="15" fill="#006600" stroke="none" pointer-events="none"/><g transform="translate(304.5,218.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="6" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 8px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">2</div></div></foreignObject><text x="3" y="12" fill="#FFFFFF" text-anchor="middle" font-size="12px" font-family="Helvetica">2</text></switch></g><ellipse cx="33" cy="15" rx="15" ry="15" fill="#006600" stroke="none" pointer-events="none"/><g transform="translate(29.5,8.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="6" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 8px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">?</div></div></foreignObject><text x="3" y="12" fill="#FFFFFF" text-anchor="middle" font-size="12px" font-family="Helvetica">?</text></switch></g><g transform="translate(59.5,8.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="68" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 69px; white-space: nowrap; word-wrap: normal;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">execute step</div></div></foreignObject><text x="34" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">execute step</text></switch></g><ellipse cx="33" cy="55" rx="15" ry="15" fill="#003366" stroke="none" pointer-events="none"/><g transform="translate(29.5,48.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="6" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 8px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">?</div></div></foreignObject><text x="3" y="12" fill="#FFFFFF" text-anchor="middle" font-size="12px" font-family="Helvetica">?</text></switch></g><g transform="translate(59.5,48.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="57" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(0, 0, 0); line-height: 1.2; vertical-align: top; width: 58px; white-space: nowrap; word-wrap: normal;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">Object No.</div></div></foreignObject><text x="29" y="12" fill="#000000" text-anchor="middle" font-size="12px" font-family="Helvetica">Object No.</text></switch></g><ellipse cx="243" cy="145" rx="15" ry="15" fill="#003366" stroke="none" pointer-events="none"/><g transform="translate(239.5,138.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="6" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 8px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">1</div></div></foreignObject><text x="3" y="12" fill="#FFFFFF" text-anchor="middle" font-size="12px" font-family="Helvetica">1</text></switch></g><ellipse cx="228" cy="205" rx="15" ry="15" fill="#003366" stroke="none" pointer-events="none"/><g transform="translate(224.5,198.5)"><switch><foreignObject style="overflow:visible;" pointer-events="all" width="6" height="12" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: inline-block; font-size: 12px; font-family: Helvetica; color: rgb(255, 255, 255); line-height: 1.2; vertical-align: top; width: 8px; white-space: nowrap; word-wrap: normal; text-align: center;"><div xmlns="http://www.w3.org/1999/xhtml" style="display:inline-block;text-align:inherit;text-decoration:inherit;">2</div></div></foreignObject><text x="3" y="12" fill="#FFFFFF" text-anchor="middle" font-size="12px" font-family="Helvetica">2</text></switch></g></g></svg>
</pre>

* execute No.1
```java
    private boolean enqueueMessage(MessageQueue queue, Message msg, long uptimeMillis) {
        ...
        return queue.enqueueMessage(msg, uptimeMillis);
    }
```

此处引出了`MessageQueue`对象


 needWake <- mBlocked <- (pendingIdleHandlerCount <= 0) <- 
